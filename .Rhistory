p <- p + scale_y_continuous(limits=c(-2, 1.5))
p
#-------------------------------------------------------------------------------------
# Estimate simple forecasting model for computing the probability of a negative growth rate
#-------------------------------------------------------------------------------------
XVars    <- ts_span(ts_ts(ts_c(BaroQ, Vol)), startDate, endDate)
YVars    <- ts_span(ts_ts(ts_pc(PIB)), startDate, endDate)
Model    <- Arima(YVars, order = c(0, 0, 0), include.constant= TRUE, xreg = XVars[1:(dim(XVars)[1]-2),])
summary(Model)
Forecast <- forecast(Model, xreg = (XVars[(dim(XVars)[1]-1):dim(XVars)[1],]), h = 2, level = c(50, 80 90 95))
p <- autoplot(Forecast,fan=TRUE)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggtitle("Prévision croissance PIB Suisse (en %)")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p <- p +  geom_text(aes(label = mean))
p <- p + scale_x_continuous(limits=c(2018, 2021))
p <- p + scale_y_continuous(limits=c(-2, 1.5))
p
#-------------------------------------------------------------------------------------
# Estimate simple forecasting model for computing the probability of a negative growth rate
#-------------------------------------------------------------------------------------
XVars    <- ts_span(ts_ts(ts_c(BaroQ, Vol)), startDate, endDate)
YVars    <- ts_span(ts_ts(ts_pc(PIB)), startDate, endDate)
Model    <- Arima(YVars, order = c(0, 0, 0), include.constant= TRUE, xreg = XVars[1:(dim(XVars)[1]-2),])
summary(Model)
Forecast <- forecast(Model, xreg = (XVars[(dim(XVars)[1]-1):dim(XVars)[1],]), h = 2, level = c(50, 80 90 95))
p <- autoplot(Forecast,fan=TRUE)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggtitle("Prévision croissance PIB Suisse (en %)")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p <- p + scale_x_continuous(limits=c(2018, 2021))
p <- p + scale_y_continuous(limits=c(-2, 1.5))
p
ggsave(filename = "./S01E02_BarometreMondial//PIBPrevision.png", width = 5, height = 4)
Forecast <- forecast(Model, xreg = (XVars[(dim(XVars)[1]-1):dim(XVars)[1],]), h = 2, level = c(50, 80, 90, 95))
p <- autoplot(Forecast,fan=TRUE)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggtitle("Prévision croissance PIB Suisse (en %)")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p <- p + scale_x_continuous(limits=c(2018, 2021))
p <- p + scale_y_continuous(limits=c(-2, 1.5))
Forecast <- forecast(Model, xreg = (XVars[(dim(XVars)[1]-1):dim(XVars)[1],]), h = 2, level = c(50, 80, 90, 95))
p <- autoplot(Forecast,fan=TRUE)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggtitle("Prévision croissance PIB Suisse (en %)")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p <- p +  geom_text(aes(label = mean))
p <- p + scale_x_continuous(limits=c(2018, 2021))
p <- p + scale_y_continuous(limits=c(-2, 1.5))
p
Forecast <- forecast(Model, xreg = (XVars[(dim(XVars)[1]-1):dim(XVars)[1],]), h = 2, level = c(50, 80, 90, 95))
p <- autoplot(Forecast,fan=TRUE)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggtitle("Prévision croissance PIB Suisse (en %)")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p <- p + scale_x_continuous(limits=c(2018, 2021))
p <- p + scale_y_continuous(limits=c(-2, 1.5))
p
ggsave(filename = "./S01E02_BarometreMondial//PIBPrevision.png", width = 5, height = 4)
Forecast$mean
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E02_BarometreMondial.R', encoding = 'UTF-8')
# Import the data
Monet <- read.xlsx("./S01E03_TauxDirecteur/MarchéMonétaire.xlsx", sheetName = "Report", as.data.frame = TRUE)
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
Monet[, 2:dim(Monet)[2]]
paste(Monet[, 1], "-01-01", sep ="")
Monet  <- xts(Monet[, 2:dim(Monet)[2]], order.by = as.Date(paste(Monet[, 1], "-01-01", sep ="")))
Monet  <- xts(Monet[, 2:dim(Monet)[2]], order.by = as.Date(paste(Monet[, 1], "-01-01", sep ="")))
# Import the data
Monet  <- read.xlsx("./S01E03_TauxDirecteur/MarchéMonétaire.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Oblig  <- read.xlsx("./S01E03_TauxDirecteur/Obligations.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Direct <- read.xlsx("./S01E03_TauxDirecteur/TauxDirecteur.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Credit <- read.xlsx("./S01E03_TauxDirecteur/TauxOperationsNouvelles.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 24)
Monet  <- xts(Monet[, 2:dim(Monet)[2]], order.by = as.Date(paste(Monet[, 1], "-01-01", sep ="")))
Oblig  <- ts_frequency(xts(Oblig[, 2:dim(Oblig)[2]], order.by =  as.Date(Oblig[, 1]), to = "month", aggregate = mean, na.rm = TRUE))
Direct <- xts(Direct[, 2:dim(Oblig)[2]], order.by =  as.Date(paste(Direct[, 1], "-01-01", sep ="")))
Credit <- xts(Credit[, 2:dim(Credit)[2]], order.by =  as.Date(paste(Credit[, 1], "-01-01", sep ="")))
Credit
Oblig
Oblig  <- ts_frequency(xts(Oblig[, 2:dim(Oblig)[2]], order.by =  as.Date(Oblig[, 1]), to = "month", aggregate = mean, na.rm = TRUE))
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
Monet
Oblig
as.Date(Oblig[, 1])
Oblig  <- ts_frequency(xts(Oblig[, 2:dim(Oblig)[2]], order.by =  as.Date(Oblig[, 1])), to = "month", aggregate = "mean", na.rm = TRUE)
Direct <- xts(Direct[, 2:dim(Oblig)[2]], order.by =  as.Date(paste(Direct[, 1], "-01-01", sep ="")))
Credit <- xts(Credit[, 2:dim(Credit)[2]], order.by =  as.Date(paste(Credit[, 1], "-01-01", sep ="")))
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
Taux
Oblig
Monet
Oblig
# Import the data
Monet  <- read.xlsx("./S01E03_TauxDirecteur/MarchéMonétaire.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Oblig  <- read.xlsx("./S01E03_TauxDirecteur/Obligations.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Direct <- read.xlsx("./S01E03_TauxDirecteur/TauxDirecteur.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Credit <- read.xlsx("./S01E03_TauxDirecteur/TauxOperationsNouvelles.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 24)
Monet  <- xts(Monet[, 2:dim(Monet)[2]], order.by = as.Date(paste(Monet[, 1], "-01-01", sep ="")))
Oblig  <- ts_frequency(xts(Oblig[, 2:dim(Oblig)[2]], order.by =  as.Date(Oblig[, 1])), to = "month", aggregate = "mean", na.rm = TRUE)
Direct <- xts(Direct[, 2:dim(Oblig)[2]], order.by =  as.Date(paste(Direct[, 1], "-01-01", sep ="")))
Credit <- xts(Credit[, 2:dim(Credit)[2]], order.by =  as.Date(paste(Credit[, 1], "-01-01", sep ="")))
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
Taux
# Put everything in one xts
Taux <- ts_c(Monet, Oblig, Direct, Credit)
Taux <- ts_span(Taux, startDate, endDate)
# Before 2019, there was a target range instead of a policy rate. Take the middle of the
# target range
Taux$Direct[is.na(Taux$Direct)] <- (Taux$Super+Taux$Infer)/2
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur (en %)`       = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`     = Taux$SARON,
title = "Taux directeur et taux sur le marché monétaire"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
Taux$Direct
Taux$Super+Taux$Infer
Taux$Super
Direct <- read.xlsx("./S01E03_TauxDirecteur/TauxDirecteur.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Taux$Direct
Direct
Direct <- xts(Direct[, 2:dim(Direct)[2]], order.by =  as.Date(paste(Direct[, 1], "-01-01", sep ="")))
# Put everything in one xts
Taux <- ts_c(Monet, Oblig, Direct, Credit)
Taux <- ts_span(Taux, startDate, endDate)
# Before 2019, there was a target range instead of a policy rate. Take the middle of the
# target range
Taux$Direct[is.na(Taux$Direct)] <- (Taux$Super+Taux$Infer)/2
Taux$Super+Taux$Infer
# Before 2019, there was a target range instead of a policy rate. Take the middle of the
# target range
Taux$Direct[is.na(Taux$Direct)] <- (Taux$Super+Taux$Infer)/2[is.na(Taux$Direct)]
# Before 2019, there was a target range instead of a policy rate. Take the middle of the
# target range
Taux$Direct[is.na(Taux$Direct)] <- ((Taux$Super+Taux$Infer)/2)[is.na(Taux$Direct)]
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur (en %)`       = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`     = Taux$SARON,
title = "Taux directeur et taux sur le marché monétaire"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur (en %)`       = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`     = Taux$SARON,
`3M CHF Libor`     = Taux$LIB3M,
title = "Taux directeur et taux sur le marché monétaire"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur (en %)`                  = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`  = ts_span(Taux$SARON, "2019-06-01"),
`3M CHF Libor`                           = ts_span(Taux$LIB3M, startDate, "2019-05-01"),
title = "Taux directeur et taux sur le marché monétaire"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur (moyen des limites avant 2019, en %)`                  = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`  = ts_span(Taux$SARON, "2019-06-01"),
`3M CHF Libor`                           = ts_span(Taux$LIB3M, startDate, "2019-05-01"),
title = "Taux directeur et taux sur le marché monétaire"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
# Recession 2002
p <- ts_ggplot(
`Taux directeur`            = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`    = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`    = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`    = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur`                  = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`  = ts_span(Taux$SARON, "2019-06-01"),
`CHF Libor à trois mois`                           = ts_span(Taux$LIB3M, startDate, "2019-05-01"),
title = "Taux directeur et taux sur le marché monétaire (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("black", "#D95F02"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`Taux directeur`                  = Taux$Direct,
`Swiss Average Rate Overnight (SARON)`  = ts_span(Taux$SARON, "2019-06-01"),
`CHF Libor à trois mois`                           = ts_span(Taux$LIB3M, startDate, "2019-05-01"),
title = "Taux directeur et taux sur le marché monétaire (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("black", "black", "#D95F02"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#66A61E", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#66A61E", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Taux négatifs
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2013-01-01", "2017-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2013-01-01", "2017-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2013-01-01", "2017-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2013-01-01", "2017-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2013-01-01", "2017-01-01"),
title = "Taux d'intérêts en territoire négatif (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
Credit2<- read.xlsx("./S01E03_TauxDirecteur/TauxCredits.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Credit2 <- xts(Credit2[, 2:dim(Credit2)[2]], order.by =  as.Date(paste(Credit2[, 1], "-01-01", sep ="")))
Credit2
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Put everything in one xts
Taux <- ts_c(Monet, Oblig, Direct, Credit, Credit2)
Taux <- ts_span(Taux, startDate, endDate)
# Before 2019, there was a target range instead of a policy rate. Take the middle of the
# target range
Taux$Direct[is.na(Taux$Direct)] <- ((Taux$Super+Taux$Infer)/2)[is.na(Taux$Direct)]
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Taux négatifs
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2013-01-01", "2017-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2013-01-01", "2017-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2013-01-01", "2017-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2013-01-01", "2017-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2013-01-01", "2017-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2013-01-01", "2017-01-01"),
title = "Taux d'intérêts en territoire négatif (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
# Crise Corona
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2016-01-01", endDate),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2016-01-01", endDate),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2016-01-01", endDate),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2016-01-01", endDate),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2016-01-01", endDate),
`Investissements`       = ts_span(Taux$Invest, "2016-01-01", endDate),
title = "Taux d'intérêts pendant la crise Corona (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2001/2002 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
`Investissements`       = ts_span(Taux$Invest, startDate, "2004-01-01"),
title = "Taux d'intérêts pendant la recession 2001/2002 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
ggsave(filename = "./S01E03_TauxDirecteur/AutresTaux2001.png", width = 5, height = 4)
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
ts_c(Taux$Infer, Taux$Direct, Taux$Super)
