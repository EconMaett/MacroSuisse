theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#66A61E", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#66A61E", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
title = "Taux directeur et autres taux d'intérêts (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Taux négatifs
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2013-01-01", "2017-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2013-01-01", "2017-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2013-01-01", "2017-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2013-01-01", "2017-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2013-01-01", "2017-01-01"),
title = "Taux d'intérêts en territoire négatif (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
Credit2<- read.xlsx("./S01E03_TauxDirecteur/TauxCredits.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 17)
Credit2 <- xts(Credit2[, 2:dim(Credit2)[2]], order.by =  as.Date(paste(Credit2[, 1], "-01-01", sep ="")))
Credit2
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Put everything in one xts
Taux <- ts_c(Monet, Oblig, Direct, Credit, Credit2)
Taux <- ts_span(Taux, startDate, endDate)
# Before 2019, there was a target range instead of a policy rate. Take the middle of the
# target range
Taux$Direct[is.na(Taux$Direct)] <- ((Taux$Super+Taux$Infer)/2)[is.na(Taux$Direct)]
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Taux négatifs
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2013-01-01", "2017-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2013-01-01", "2017-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2013-01-01", "2017-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2013-01-01", "2017-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2013-01-01", "2017-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2013-01-01", "2017-01-01"),
title = "Taux d'intérêts en territoire négatif (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2008
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2006-01-01", "2010-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2006-01-01", "2010-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2006-01-01", "2010-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2006-01-01", "2010-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2006-01-01", "2010-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2008/2009 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
# Crise Corona
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, "2016-01-01", endDate),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, "2016-01-01", endDate),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, "2016-01-01", endDate),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, "2016-01-01", endDate),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, "2016-01-01", endDate),
`Investissements`       = ts_span(Taux$Invest, "2016-01-01", endDate),
title = "Taux d'intérêts pendant la crise Corona (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
`Investissements`       = ts_span(Taux$Invest, "2006-01-01", "2010-01-01"),
title = "Taux d'intérêts pendant la recession 2001/2002 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
# Recession 2002
p <- ts_ggplot(
`Taux directeur`          = ts_span(Taux$Direct, startDate, "2004-01-01"),
`Conféderation à 10 ans`  = ts_span(Taux$Conf10, startDate, "2004-01-01"),
`Entreprises à 8 ans`     = ts_span(Taux$Manuf8, startDate, "2004-01-01"),
`Prêts hypothécaires`     = ts_span(Taux$Hypo, startDate, "2004-01-01"),
`Dépôts d'épargnes`       = ts_span(Taux$Epargne, startDate, "2004-01-01"),
`Investissements`       = ts_span(Taux$Invest, startDate, "2004-01-01"),
title = "Taux d'intérêts pendant la recession 2001/2002 (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "#7570B3", "#E7298A", "black", "#E6AB02", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
ggsave(filename = "./S01E03_TauxDirecteur/AutresTaux2001.png", width = 5, height = 4)
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E03_TauxDirecteur.R', encoding = 'UTF-8')
ts_c(Taux$Infer, Taux$Direct, Taux$Super)
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
# Import the data
Prix  <- read.xlsx("./S01E04_Prix/IPC.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 5)
Prix
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
# Import the data
Prix  <- read.xlsx("./S01E04_Prix/IPC.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 5)
Prix
# Import the data
Prix  <- read.xlsx("./S01E04_Prix/IPC_Manualx.xlsx", sheetName = "Report", as.data.frame = TRUE, startRow = 5)
# Import the data
Prix  <- read.xlsx("./S01E04_Prix/IPC_Manuelx.xlsx", sheetName = "Sheet1", as.data.frame = TRUE, startRow = 1)
Prix
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
endDate
Date   <- seq("1982-12-01", as.Date(endDate), by = "month")
Date   <- seq(as.Date("1982-12-01"), as.Date(endDate), by = "month")
Type
Weight
Weight <- as.numeric(Prix$Weight)
Weight
# Import the data
Prix  <- read.xlsx("./S01E04_Prix/IPC_Manuelx.xlsx", sheetName = "Main", as.data.frame = TRUE, startRow = 1)
Type   <- Prix$PosType
Weight <- as.numeric(Prix$Weight)
Index  <- Prix[2:dim(Prix)[1], 7]
Date   <- seq(as.Date("1982-12-01"), as.Date(endDate), by = "month")
Index
Weight
Type
Prix
Prix[,8:dim(Prix)[2]]
Prix[2:3,8:dim(Prix)[2]]
Prix[1:3,8:dim(Prix)[2]]
Prix <- xts(t(Prix[1:3,8:dim(Prix)[2]]), order.by = Date)
Prix[1:3,8:dim(Prix)[2]]Prix
Prix
plot(Prix)
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
dim(Comp)[2]]
dim(Comp)[2]
Weight
Type
Weight <- Weight[, Type == 4]
Weight <- Weight[Type == 4,]
Weight <- Weight[Type == 4]
Index  <- Index[,Type == 4,]
Index
Index  <- xts(t(Comp[, 8:dim(Comp)[2]]), order.by = Date)
Index
Index  <- Index[,Type == 4,]
Index
sum(Weight)
sum(Weight, na.rm = TRUE)
Weight
Weight[is.na(Weight)] <- 0
Baseline <- calcIndex(Index, Weight, "2015-12-01")
Baseline
plot(Baseline)
plot(ts_c(Baseline, Prix[,1]))
Comp$Missing
Missing <- Missing[Type == 4]
Missing <- Comp$Missing
Missing <- Missing[Type == 4]
Comp$MissingMissing
Missing
Missing[is.na(Missing)] <- 0
Counterf <-  ts_span(calcIndex(Index[,Missing == FALSE], Weight[Missing == FALSE], "2015-12-01"), "2010-12-01")
plot(ts_c(Baseline, Counterf, Prix[,1]))
Baseline <- ts_span(calcIndex(Index, Weight, "2015-12-01"), "2010-12-01")
Counterf <- ts_span(calcIndex(Index[,Missing == FALSE], Weight[Missing == FALSE], "2015-12-01"), "2010-12-01")
plot(ts_c(Baseline, Counterf, Prix[,1]))
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officel)`       = ts_span(Prix[,1], "2015-12-01"),
`IPC (propre calcul)` = Baseline,
`IPC (sans prix imputés)` = Counterf,
title = "Taux directeur et taux sur le marché monétaire (en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
#`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=2,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
#`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
ggsave(filename = "./S01E04_Prix/PrixImpute.png", width = 5, height = 4)
p <- ts_ggplot(
`IPC`               = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
`Biens domestiques` = ts_pcy(ts_span(Prix[,2], "2015-12-01")),
`Biens importés`    = ts_pcy(ts_span(Prix[,3], "2015-12-01")),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
Counterf
plot(Counterf)
Baseline
plot(Baseline)
plot(ts_c(Baseline, Counterf, Prix[,1]))
Missing
Baseline <- ts_span(calcIndex(Index, Weight, "2015-12-01"), "2010-12-01")
Counterf <- ts_span(calcIndex(Index[,Missing == 0], Weight[Missing == 0], "2015-12-01"), "2010-12-01")
plot(ts_c(Baseline, Counterf, Prix[,1]))
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officiel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
#`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
#`IPC (officiel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officiel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
`IPC (propre calcul)`     = ts_pcy(Baseline),
#`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officiel)`           = ts_pcy(ts_span(Prix[,1], "2015-12-01")),
#`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officiel)`           = ts_pcy(ts_span(Prix[,1], "2010-12-01")),
#`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans prix imputés)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
#-------------------------------------------------------------------------------------
# Create charts
#-------------------------------------------------------------------------------------
p <- ts_ggplot(
`IPC (officiel)`           = ts_pcy(ts_span(Prix[,1], "2010-12-01")),
#`IPC (propre calcul)`     = ts_pcy(Baseline),
`IPC (sans categories avec prix imputés en Avril 2020)` = ts_pcy(Counterf),
title = "Taux d'inflation (par rapport à l'année précédente, en %)"
)
p <- p + theme_minimal() + ylab("")+xlab("")+
ggplot2::geom_line(aes(),size=1)+ggplot2::scale_color_brewer(palette = "Dark2")+
scale_color_manual(values = c("#1B9E77", "#D95F02", "black", "#E7298A", "#E6AB02", "black", "#A6761D"))+
theme(legend.position="bottom",legend.margin=margin(0,0,0,0),legend.box.margin=margin(-20,-5,0,-5))+ggplot2::guides(col=guide_legend(nrow=1,byrow=TRUE))+ggplot2::theme(legend.title = element_blank())+
theme(axis.line = element_line(colour = "black", size = 0.1))+ theme(panel.background = element_blank())+
theme(panel.border = element_rect(linetype = "solid", colour = "black", fill = NA))+theme(text = element_text(family = "Palatino"))+
theme(panel.grid.major = element_line(colour = "black",size=0.1,linetype="dotted"), panel.grid.minor = element_blank())
p
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
source('C:/Users/daenu/switchdrive/Public/Videos/GitHub/S01E04_Prix.R', encoding = 'UTF-8')
